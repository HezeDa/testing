import { pool } from "../lib/db"
import { hash } from "bcrypt"

async function seed() {
  try {
    console.log("üå± –ù–∞—á–∞–ª–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...")

    // –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    const hashedPassword = await hash("admin123", 10)
    const adminResult = await pool.query(
      `INSERT INTO users (email, password, name, role) 
       VALUES ($1, $2, $3, $4) 
       ON CONFLICT (email) DO UPDATE SET 
         password = EXCLUDED.password,
         name = EXCLUDED.name,
         role = EXCLUDED.role
       RETURNING id`,
      ["admin@admin.com", hashedPassword, "–¢–µ—Å—Ç–æ–≤—ã–π —é–∑–µ—Ä", "admin"]
    )
    const adminId = adminResult.rows[0].id
    console.log("‚úÖ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–Ω")

    // –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –±–ª–æ–≥–∞
    const categories = [
      { name: "–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã", slug: "legal" },
      { name: "–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏", slug: "investment" },
      { name: "–ù–∞–ª–æ–≥–∏", slug: "taxes" },
      { name: "–ü–æ–∫—É–ø–∫–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏", slug: "buying" },
      { name: "–û–±—Ä–∞–∑ –∂–∏–∑–Ω–∏", slug: "lifestyle" },
      { name: "–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ä—ã–Ω–∫–∞", slug: "market" },
    ]

    for (const category of categories) {
      try {
        await pool.query(
          `INSERT INTO blog_categories (name, slug) 
           VALUES ($1, $2)
           ON CONFLICT (slug) DO NOTHING`,
          [category.name, category.slug]
        )
      } catch (error) {
        console.log(`–ö–∞—Ç–µ–≥–æ—Ä–∏—è ${category.name} —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º...`)
      }
    }
    console.log("‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±–ª–æ–≥–∞ —Å–æ–∑–¥–∞–Ω—ã")

    // –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞—Ç–µ–π –±–ª–æ–≥–∞
    const articles = [
      {
        title: "–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –≥—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ –ö–∏–ø—Ä–∞ —á–µ—Ä–µ–∑ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å",
        slug: "how-to-get-cyprus-citizenship",
        excerpt: "–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–µ Golden Visa –∏ –ø—Ä–æ—Ü–µ—Å—Å—É –ø–æ–ª—É—á–µ–Ω–∏—è –≥—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–∞ –ö–∏–ø—Ä–∞ —á–µ—Ä–µ–∑ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å.",
        content: `
          <h2>–ß—Ç–æ —Ç–∞–∫–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∞ Golden Visa?</h2>
          <p>–ü—Ä–æ–≥—Ä–∞–º–º–∞ Golden Visa - —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–º –∏–Ω–≤–µ—Å—Ç–æ—Ä–∞–º –ø–æ–ª—É—á–∏—Ç—å –≤–∏–¥ –Ω–∞ –∂–∏—Ç–µ–ª—å—Å—Ç–≤–æ –∏–ª–∏ –≥—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ –ö–∏–ø—Ä–∞ —á–µ—Ä–µ–∑ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å.</p>
          
          <h2>–û—Å–Ω–æ–≤–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</h2>
          <ul>
            <li>–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –Ω–∞ —Å—É–º–º—É –æ—Ç ‚Ç¨300,000</li>
            <li>–ß–∏—Å—Ç–∞—è –∫—Ä–∏–º–∏–Ω–∞–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è</li>
            <li>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ª–µ–≥–∞–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤</li>
            <li>–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞</li>
          </ul>
          
          <h2>–ü—Ä–æ—Ü–µ—Å—Å –ø–æ–ª—É—á–µ–Ω–∏—è</h2>
          <ol>
            <li>–í—ã–±–æ—Ä –æ–±—ä–µ–∫—Ç–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</li>
            <li>–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</li>
            <li>–ü–æ–¥–∞—á–∞ –∑–∞—è–≤–ª–µ–Ω–∏—è</li>
            <li>–†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏</li>
            <li>–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è</li>
          </ol>
        `,
        category_id: 1,
        author_id: adminId,
        status: "published",
        featured: true,
        featured_image: "/placeholder.svg?height=800&width=1200",
        meta_title: "–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –≥—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ –ö–∏–ø—Ä–∞ —á–µ—Ä–µ–∑ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å | Cyprus Elite Estates",
        meta_description: "–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–µ Golden Visa –∏ –ø—Ä–æ—Ü–µ—Å—Å—É –ø–æ–ª—É—á–µ–Ω–∏—è –≥—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–∞ –ö–∏–ø—Ä–∞ —á–µ—Ä–µ–∑ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å.",
        meta_keywords: "–≥—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ –ö–∏–ø—Ä–∞, Golden Visa, –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å, –≤–∏–¥ –Ω–∞ –∂–∏—Ç–µ–ª—å—Å—Ç–≤–æ"
      },
      {
        title: "–¢–æ–ø-5 —Ä–∞–π–æ–Ω–æ–≤ –¥–ª—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π –≤ 2024 –≥–æ–¥—É",
        slug: "top-5-areas-for-investment",
        excerpt: "–ê–Ω–∞–ª–∏–∑ —Å–∞–º—ã—Ö –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω—ã—Ö —Ä–∞–π–æ–Ω–æ–≤ –ö–∏–ø—Ä–∞ –¥–ª—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π –≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –≤ 2024 –≥–æ–¥—É —Å —É—á–µ—Ç–æ–º –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞ —Ä–æ—Å—Ç–∞ —Ü–µ–Ω.",
        content: `
          <h2>1. –õ–∏–º–∞—Å—Å–æ–ª</h2>
          <p>–õ–∏–º–∞—Å—Å–æ–ª –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è —Å–∞–º—ã–º –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–º –≥–æ—Ä–æ–¥–æ–º –¥–ª—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π –±–ª–∞–≥–æ–¥–∞—Ä—è —Ä–∞–∑–≤–∏—Ç–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∏ –≤—ã—Å–æ–∫–æ–º—É —Å–ø—Ä–æ—Å—É –Ω–∞ –∞—Ä–µ–Ω–¥—É.</p>
          
          <h2>2. –ü–∞—Ñ–æ—Å</h2>
          <p>–ü–∞—Ñ–æ—Å –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –æ—Ç–ª–∏—á–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π –≤ —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫—É—é –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –∏ –∂–∏–ª—å–µ –ø—Ä–µ–º–∏—É–º-–∫–ª–∞—Å—Å–∞.</p>
          
          <h2>3. –õ–∞—Ä–Ω–∞–∫–∞</h2>
          <p>–° —Ä–∞–∑–≤–∏—Ç–∏–µ–º –Ω–æ–≤–æ–≥–æ –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞ –∏ –ø–æ—Ä—Ç–∞, –õ–∞—Ä–Ω–∞–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤—Å–µ –±–æ–ª–µ–µ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ–π –¥–ª—è –∏–Ω–≤–µ—Å—Ç–æ—Ä–æ–≤.</p>
          
          <h2>4. –ù–∏–∫–æ—Å–∏—è</h2>
          <p>–°—Ç–æ–ª–∏—Ü–∞ –ö–∏–ø—Ä–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Ä—ã–Ω–æ–∫ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ —Å —Ö–æ—Ä–æ—à–∏–º –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–æ–º —Ä–æ—Å—Ç–∞.</p>
          
          <h2>5. –ê–π—è-–ù–∞–ø–∞</h2>
          <p>–¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä —Å –≤—ã—Å–æ–∫–∏–º –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–æ–º –¥–ª—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π –≤ –∫—É—Ä–æ—Ä—Ç–Ω—É—é –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å.</p>
        `,
        category_id: 2,
        author_id: adminId,
        status: "published",
        featured: false,
        featured_image: "/placeholder.svg?height=800&width=1200",
        meta_title: "–¢–æ–ø-5 —Ä–∞–π–æ–Ω–æ–≤ –¥–ª—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π –≤ 2024 –≥–æ–¥—É | Cyprus Elite Estates",
        meta_description: "–ê–Ω–∞–ª–∏–∑ —Å–∞–º—ã—Ö –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω—ã—Ö —Ä–∞–π–æ–Ω–æ–≤ –ö–∏–ø—Ä–∞ –¥–ª—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π –≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –≤ 2024 –≥–æ–¥—É.",
        meta_keywords: "–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å, —Ä–∞–π–æ–Ω—ã –ö–∏–ø—Ä–∞, 2024 –≥–æ–¥, –õ–∏–º–∞—Å—Å–æ–ª, –ü–∞—Ñ–æ—Å"
      },
      {
        title: "–ù–∞–ª–æ–≥–æ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –≤–ª–∞–¥–µ–Ω–∏—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å—é –Ω–∞ –ö–∏–ø—Ä–µ",
        slug: "tax-benefits-of-cyprus-property",
        excerpt: "–ü–æ–¥—Ä–æ–±–Ω—ã–π –æ–±–∑–æ—Ä –Ω–∞–ª–æ–≥–æ–≤—ã—Ö –ª—å–≥–æ—Ç –∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –Ω–∞ –ö–∏–ø—Ä–µ.",
        content: `
          <h2>–ù–∞–ª–æ–≥ –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</h2>
          <p>–ù–∞ –ö–∏–ø—Ä–µ –¥–µ–π—Å—Ç–≤—É–µ—Ç –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –Ω–∏–∑–∫–∏—Ö —Å—Ç–∞–≤–æ–∫ –Ω–∞–ª–æ–≥–∞ –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –≤ –ï–≤—Ä–æ–ø–µ.</p>
          
          <h2>–ù–∞–ª–æ–≥ –Ω–∞ –ø—Ä–∏—Ä–æ—Å—Ç –∫–∞–ø–∏—Ç–∞–ª–∞</h2>
          <p>–ü—Ä–∏ –ø—Ä–æ–¥–∞–∂–µ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –ø–æ—Å–ª–µ 5 –ª–µ—Ç –≤–ª–∞–¥–µ–Ω–∏—è –Ω–∞–ª–æ–≥ –Ω–∞ –ø—Ä–∏—Ä–æ—Å—Ç –∫–∞–ø–∏—Ç–∞–ª–∞ –Ω–µ –≤–∑–∏–º–∞–µ—Ç—Å—è.</p>
          
          <h2>–ù–î–°</h2>
          <p>–ü—Ä–∏ –ø–æ–∫—É–ø–∫–µ –ø–µ—Ä–≤–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –Ω–∞ –ö–∏–ø—Ä–µ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Å–∫–∏–¥–∫—É –Ω–∞ –ù–î–°.</p>
          
          <h2>–ù–∞–ª–æ–≥ –Ω–∞ –Ω–∞—Å–ª–µ–¥—Å—Ç–≤–æ</h2>
          <p>–ù–∞ –ö–∏–ø—Ä–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –Ω–∞–ª–æ–≥ –Ω–∞ –Ω–∞—Å–ª–µ–¥—Å—Ç–≤–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–º –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π.</p>
        `,
        category_id: 3,
        author_id: adminId,
        status: "published",
        featured: true,
        featured_image: "/placeholder.svg?height=800&width=1200",
        meta_title: "–ù–∞–ª–æ–≥–æ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –≤–ª–∞–¥–µ–Ω–∏—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å—é –Ω–∞ –ö–∏–ø—Ä–µ | Cyprus Elite Estates",
        meta_description: "–ü–æ–¥—Ä–æ–±–Ω—ã–π –æ–±–∑–æ—Ä –Ω–∞–ª–æ–≥–æ–≤—ã—Ö –ª—å–≥–æ—Ç –∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –Ω–∞ –ö–∏–ø—Ä–µ.",
        meta_keywords: "–Ω–∞–ª–æ–≥–∏ –Ω–∞ –ö–∏–ø—Ä–µ, –Ω–∞–ª–æ–≥ –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å, –Ω–∞–ª–æ–≥–æ–≤—ã–µ –ª—å–≥–æ—Ç—ã"
      }
    ]

    for (const article of articles) {
      try {
        await pool.query(
          `INSERT INTO blog_articles (
            title, slug, excerpt, content, category_id, author_id, 
            status, featured, featured_image, meta_title, meta_description, meta_keywords
          ) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12)
          ON CONFLICT (slug) DO NOTHING`,
          [
            article.title,
            article.slug,
            article.excerpt,
            article.content,
            article.category_id,
            article.author_id,
            article.status,
            article.featured,
            article.featured_image,
            article.meta_title,
            article.meta_description,
            article.meta_keywords
          ]
        )
      } catch (error) {
        console.log(`–°—Ç–∞—Ç—å—è ${article.title} —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º...`)
      }
    }
    console.log("‚úÖ –°—Ç–∞—Ç—å–∏ –±–ª–æ–≥–∞ —Å–æ–∑–¥–∞–Ω—ã")

    console.log("‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É—Å–ø–µ—à–Ω–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞")
  } catch (error) {
    console.error("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:", error)
  } finally {
    process.exit(0)
  }
}

seed() 